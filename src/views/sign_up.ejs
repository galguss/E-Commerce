<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/css/main.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.min.css" />
    <title>Dynamic production line</title>
  </head>
  <body>
    <%- include('Header') %>
    <main class="container">
      <h2 class="title">Sign Up</h2>
      <form id="sing_up">
        <div class="sign_up__from">
          <label for="full_name">Full Name:</label>
          <input type="text" id="full_name" name="full_name" value="<%= user.Full_Name %>" require />
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" value="<%= user.Email %>" require />
          <label for="password">Password:</label>
          <input type="password" id="password" name="password" value="<%= user.Password %>" require />
          <label for="address">Address:</label>
          <input type="text" id="address" name="address" value="<%= user.Address %>" require />
          <label for="phone_number">Phone Number:</label>
          <input type="text" id="phone_number" name="phone_number" value="<%= user.Phone_Number %>" require />
        </div>
        <span>User exist?</span>
        <a href="/user/signin">Sign In</a>

        <button class="submit">Submit</button>
      </form>
    </main>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
      $(document).ready(function () {
        $("#sing_up").submit(function (event) {
          event.preventDefault();

          $.ajax({
            url: "/user/singup",
            method: "POST",
            contentType: "application/json",
            data: JSON.stringify({
              Full_Name: $("#full_name").val(),
              Email: $("#email").val(),
              Password: $("#password").val(),
              Address: $("#address").val(),
              Phone_Number: $("#phone_number").val(),
            }),
            success: function (response) {
              window.location.href = "/";
              /* $('#message').text(response.message);
                        $('#full_name').val('');
                        $('#email').val('');
                        $('#password').val('');
                        $('#address').val('');
                        $('#phone_number').val('');*/
            },
            error: function (error) {
              $("#message").text("Error Something went wrong please verify the data");
            },
          });
        });
      });
    </script>
  </body>
</html>
